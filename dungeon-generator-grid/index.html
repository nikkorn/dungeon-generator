<!DOCTYPE html>
<html>
<body>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="js/constants.js"></script>
<script src="js/utility.js"></script>
<script src="js/anchor.js"></script>
<script src="js/cell.js"></script>
<script src="js/rooms.js"></script>
<script src="js/generator.js"></script>

<button type="button" onclick="generate()">Generate!</button>

<svg id="dungeon" width="800" height="800" class="element-vertical">
  <rect width="800" height="800" style="fill:rgb(0,0,0)" />
</svg>
 
</body>
<script>

/**
 * Set a space in the dungeon.
 */
function setSpace(x, y, colour)
{
  // Draw the space on the dungeon area SVG.
  var rect = document.createElementNS("http://www.w3.org/2000/svg", 'rect');
  rect.setAttributeNS(null, 'x', (x * 3) + 400);
  rect.setAttributeNS(null, 'y', (y * 3) + 400);
  rect.setAttributeNS(null, 'height', 3);
  rect.setAttributeNS(null, 'width', 3);
  rect.setAttributeNS(null, 'fill', colour);
  document.getElementById('dungeon').appendChild(rect);
};

const TILE_COLOUR = {
  [TILE.ROOM]: "#FFFFFF",
  [TILE.DOOR]: "#FF0000"
};

const DEPTH_COLOUR = [
  "#0069E5",
  "#00A7E2",
  "#00DFDB",
  "#00DC9A",
  "#00DA5B",
  "#00D71E",
  "#1DD400",
  "#58D200",
  "#91CF00",
  "#C8CC00",
  "#C99500",
  "#C75B00",
  "#C42300",
  "#C10013",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048",
  "#BF0048"
];

const tiles = new Generator().generate();

tiles.forEach(element => setSpace(element.x, element.y, DEPTH_COLOUR[element.depth]));

</script>
</html>